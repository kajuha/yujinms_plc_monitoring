<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>yujinms</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- App favicon -->
        <link rel="shortcut icon" href="static/images/favicon.ico">

        <!-- App css -->
        <link href="static/css/icons.min.css" rel="stylesheet" type="text/css" />
        <link href="static/css/app.min.css" rel="stylesheet" type="text/css" />
    </head>

    <body data-layout="topnav">

        <!-- Begin page -->
        <div class="wrapper">

            <!-- ============================================================== -->
            <!-- Start Page Content here -->
            <!-- ============================================================== -->

            <div class="content-page">
                <div class="content">

                    <!-- Topbar Start -->
                    <div class="navbar-custom topnav-navbar">
                        <div class="container-fluid">
                            <a href="index.html" class="topnav-logo">
                                <span class="topnav-logo-lg">
                                    <img src="static/images/logo-dark.png" alt="" height="20">
                                </span>
                                <span class="topnav-logo-sm">
                                    <img src="static/images/logo_sm.png" alt="" height="20">
                                </span>
                            </a>
                            </ul>
                            <a class="navbar-toggle"  data-toggle="collapse" data-target="#topnav-menu-content">
                                <div class="lines">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </a>
                        </div>
                    </div>
                    <!-- end Topbar -->

                    <div class="topnav">
                        <div class="container-fluid">
                            <nav class="navbar navbar-dark navbar-expand-lg topnav-menu">
        
                                <div class="collapse navbar-collapse" id="topnav-menu-content">
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a href="index.html" class="nav-link">
                                                <i class="mdi mdi-speedometer mr-1"></i>AMR Dashboard
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="pages-positiontable.html" class="nav-link">
                                                <i class="mdi mdi-speedometer mr-1"></i>Position Table
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>


                    <!-- Start Content-->
                    <div class="container-fluid">

                        <!-- start page title -->
                        <div class="row pb-3">
                        </div>
                        <!-- end page title -->

                        <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Odometry</h4>

                                        <div class="row text-center">

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">X(m)</h5>
                                                        <h3 id="simpleOdomLX" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Y(m)</h5>
                                                        <h3 id="simpleOdomLY" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Z(&deg)</h5>
                                                        <h3 id="simpleOdomTZ" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Platform</h4>

                                        <div class="row text-center">

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Mode</h5>
                                                        <h3 id="simplePlatformMode" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">State</h5>
                                                        <h3 id="simplePlatformState" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Connect?</h5>
                                                        <h3 id="simplePlatformComm" class="mt-1 mb-1 text-uppercase text-danger">-</h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Battery</h4>

                                        <div class="row text-center">

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Voltage(V)</h5>
                                                        <h3 id="simpleBatteryVoltage" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Current(A)</h5>
                                                        <h3 id="simpleBatteryCurrent" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Capacity(%)</h5>
                                                        <h3 id="simpleBatteryPercentage" class="mt-1 mb-1">-</h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            
                        </div>
<!-- 
                        <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">

                                        <div class="row text-center">

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper24" class="text-muted font-weight-normal mt-0">Whisper24</h6>
                                                        <h5 id="simpleWhisper24Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper24Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper25" class="text-muted font-weight-normal mt-0">Whisper25</h6>
                                                        <h5 id="simpleWhisper25Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper25Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper26" class="text-muted font-weight-normal mt-0">Whisper26</h6>
                                                        <h5 id="simpleWhisper26Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper26Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">

                                        <div class="row text-center">

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper27" class="text-muted font-weight-normal mt-0">Whisper27</h6>
                                                        <h5 id="simpleWhisper27Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper27Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper28" class="text-muted font-weight-normal mt-0">Whisper28</h6>
                                                        <h5 id="simpleWhisper28Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper28Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h6 id="simpleWhisper29" class="text-muted font-weight-normal mt-0">Whisper29</h6>
                                                        <h5 id="simpleWhisper29Subject" class="mt-1 mb-1">-</h5>
                                                        <h5 id="simpleWhisper29Value" class="mt-1 mb-1">-</h5>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            
                        </div>
 -->
                        <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">

                                        <div class="row text-center">
                                            <div class="col-lg-12">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Jog Parameters</h5>
                                                        <form id="simpleJogParamForm">
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogXVelInput">X Vel(m/s)</label>
                                                                    <input type="text" id="simpleJogXVelInput" name="simpleJogXVelInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogYVelInput">Y Vel(m/s)</label>
                                                                    <input type="text" id="simpleJogYVelInput" name="simpleJogYVelInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogZVelInput">Z Vel(&deg/s)</label>
                                                                    <input type="text" id="simpleJogZVelInput" name="simpleJogZVelInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogXAccInput">X Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simpleJogXAccInput" name="simpleJogXAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogYAccInput">Y Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simpleJogYAccInput" name="simpleJogYAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogZAccInput">Z Acc(&deg/s&sup2)</label>
                                                                    <input type="text" id="simpleJogZAccInput" name="simpleJogZAccInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogXMaxInput">X Max(m/s)</label>
                                                                    <input type="text" id="simpleJogXMaxInput" name="simpleJogXMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogYMaxInput">Y Max(m/s)</label>
                                                                    <input type="text" id="simpleJogYMaxInput" name="simpleJogYMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJogZMaxInput">Z Max(&deg/s)</label>
                                                                    <input type="text" id="simpleJogZMaxInput" name="simpleJogZMaxInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Jog Control</h5>
                                                        <form id="simpleJogControlForm">
                                                            <div class="form-row" style="padding-top: 1%;">
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogFLButton" class="text-transparent">&#8598</label> -->
                                                                    <button type="button" id="simpleJogFLButton" class="btn btn-primary btn-rounded col-sm-11 text-uppercase">&#8598</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogFrontButton">&#8593/label> -->
                                                                    <button type="button" id="simpleJogFrontButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">&#8593</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogFRButton" class="text-transparent">&#8599/label> -->
                                                                    <button type="button" id="simpleJogFRButton" class="btn btn-primary btn-rounded col-sm-11 text-uppercase">&#8599</button>
                                                                </div>
                                                            </div>
                                                            <div class="form-row" style="padding-top: 1%;">
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogLeftButton">&#8592</label> -->
                                                                    <button type="button" id="simpleJogLeftButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">&#8592</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogStopButton" class="text-transparent">STOP</label> -->
                                                                    <button type="button" id="simpleJogStopButton" class="btn btn-outline-danger btn-rounded col-sm-11 text-uppercase">STOP</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogRightButton">&#8594</label> -->
                                                                    <button type="button" id="simpleJogRightButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">&#8594</button>
                                                                </div>
                                                            </div>
                                                            <div class="form-row" style="padding-top: 1%;">
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogBLButton">&#8601</label> -->
                                                                    <button type="button" id="simpleJogBLButton" class="btn btn-primary btn-rounded col-sm-11 text-uppercase">&#8601</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogBackButton" class="text-transparent">&#8595</label> -->
                                                                    <button type="button" id="simpleJogBackButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">&#8595</button>
                                                                </div>
                                                                <div class="col-sm-4">
                                                                    <!-- <label for="simpleJogBRButton">&#8600</label> -->
                                                                    <button type="button" id="simpleJogBRButton" class="btn btn-primary btn-rounded col-sm-11 text-uppercase">&#8600</button>
                                                                </div>
                                                            </div>
                                                            <div class="form-row" style="padding-top: 1%;">
                                                                <div class="col-sm-6">
                                                                    <!-- <label for="simpleJogCcwButton" class="text-transparent">&#8630</label> -->
                                                                    <button type="button" id="simpleJogCcwButton" class="btn btn-secondary btn-rounded col-sm-11 text-uppercase">&#8630</button>
                                                                </div>
                                                                <div class="col-sm-6">
                                                                    <!-- <label for="simpleJogCwButton" class="text-transparent">&#8631</label> -->
                                                                    <button type="button" id="simpleJogCwButton" class="btn btn-secondary btn-rounded col-sm-11 text-uppercase">&#8631</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Position Control</h4>

                                        <div class="row text-center">
                                            <div class="col-lg-12">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Position Parameters</h5>
                                                        <form id="simplePositionParamForm">
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionXVelInput">X Vel(m/s)</label>
                                                                    <input type="text" id="simplePositionXVelInput" name="simplePositionXVelInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionYVelInput">Y Vel(m/s)</label>
                                                                    <input type="text" id="simplePositionYVelInput" name="simplePositionYVelInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionZVelInput">Z Vel(&deg/s)</label>
                                                                    <input type="text" id="simplePositionZVelInput" name="simplePositionZVelInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionXAccInput">X Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simplePositionXAccInput" name="simplePositionXAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionYAccInput">Y Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simplePositionYAccInput" name="simplePositionYAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionZAccInput">Z Acc(&deg/s&sup2)</label>
                                                                    <input type="text" id="simplePositionZAccInput" name="simplePositionZAccInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionXMaxInput">X Max(m/s)</label>
                                                                    <input type="text" id="simplePositionXMaxInput" name="simplePositionXMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionYMaxInput">Y Max(m/s)</label>
                                                                    <input type="text" id="simplePositionYMaxInput" name="simplePositionYMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simplePositionZMaxInput">Z Max(&deg/s)</label>
                                                                    <input type="text" id="simplePositionZMaxInput" name="simplePositionZMaxInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <form id="simplePositionControlForm">
                                                            <h5 class="text-muted font-weight-normal mt-0">Position Control</h5>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-2">
                                                                    <label for="simplePositionLXInput">X(m)</label>
                                                                    <input type="text" id="simplePositionLXInput" name="simplePositionLXInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-2">
                                                                    <label for="simplePositionLYInput">Y(m)</label>
                                                                    <input type="text" id="simplePositionLYInput" name="simplePositionLYInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-2">
                                                                    <label for="simplePositionTZInput">Z(&deg)</label>
                                                                    <input type="text" id="simplePositionTZInput" name="simplePositionTZInput" class="form-control text-center">
                                                                </div>
                                                                <div class="col-sm-3">
                                                                    <label for="simplePositionControlButton" class="text-transparent">Control</label>
                                                                    <button type="button" id="simplePositionControlButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">Control</button>
                                                                </div>
                                                                <div class="col-sm-3">
                                                                    <label for="simplePositionStopButton">Stop</label>
                                                                    <button type="button" id="simplePositionStopButton" class="btn btn-outline-danger btn-rounded col-sm-11 text-uppercase">Stop</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                        <form>
                                                            <div class="form-row" style="padding-top: 1%;">
                                                                <div class="form-group col-sm-6">
                                                                    <input type="text" id="filenamePath" name="simplePositionTZInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group col-sm-6">
                                                                    <button type="button" id="filenameButton" class="btn btn-success btn-rounded col-sm-12 text-uppercase">Path File</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                        <form>
                                                            <div class="form-row">
                                                                <div class="col-sm-6">
                                                                    <button type="button" id="simplePlatformInitButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">Init</button>
                                                                </div>
                                                                <div class="col-sm-6">
                                                                    <button type="button" id="simplePlatformClearErrorButton" class="btn btn-success btn-rounded col-sm-11 text-uppercase">Clear Error</button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-xl-6">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row text-center">
                                            <div class="col-lg-12">
                                                <h4 class="header-title mb-3">Odometry Graph(XY)</h4>
                                                <div id="containerOdomXYGraph" style="height: 300px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-6">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row text-center">
                                            <div class="col-lg-12">
                                                <h4 class="header-title mb-3">Odometry Graph(Z)</h4>
                                                <div id="containerOdomZGraph" style="height: 300px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Joystick Control</h4>

                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="card widget-flat">
                                                    <div class="card-body">
                                                        <h5 class="text-muted font-weight-normal mt-0">Joystick Parameters</h5>
                                                        <form id="simpleJoyParamForm">
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyXAccInput">X Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simpleJoyXAccInput" name="simpleJoyXAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyYAccInput">Y Acc(m/s&sup2)</label>
                                                                    <input type="text" id="simpleJoyYAccInput" name="simpleJoyYAccInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyZAccInput">Z Acc(&deg/s&sup2)</label>
                                                                    <input type="text" id="simpleJoyZAccInput" name="simpleJoyZAccInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                            <div class="form-row">
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyXMaxInput">X Max(m/s)</label>
                                                                    <input type="text" id="simpleJoyXMaxInput" name="simpleJoyXMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyYMaxInput">Y Max(m/s)</label>
                                                                    <input type="text" id="simpleJoyYMaxInput" name="simpleJoyYMaxInput" class="form-control text-center">
                                                                </div>
                                                                <div class="form-group mb-0 col-sm-4">
                                                                    <label for="simpleJoyZMaxInput">Z Max(&deg/s)</label>
                                                                    <input type="text" id="simpleJoyZMaxInput" name="simpleJoyZMaxInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                
                                            <div class="col-xl-12 text-center">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <h4 class="header-title mb-3">Joystick Setting</h4>
                                                        <form id="simpleJoySettingForm">
                                                            <div class="row text-center">
                    
                                                                <div class="col-sm-6">
                                                                    <h5 class="text-muted font-weight-normal mt-0">Enable Joystick</h5>
                                                                    <input type="checkbox" id="enableJoystick" data-switch="none"/>
                                                                    <label for="enableJoystick" data-on-label="" data-off-label=""></label>
                                                                </div>
                    
                                                                <div class="col-sm-6">
                                                                    <h5 class="text-muted font-weight-normal mt-0">Send Rate(ms)</h5>
                                                                    <input type="text" id="simpleJoyMsRateInput" name="simpleJoyMsRateInput" class="form-control text-center">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Joystick</h4>
                                        <form id="simpleJoyTwistForm">

                                            <div class="row text-center">

                                                <div class="col-sm-4">
                                                    <div class="card widget-flat">
                                                        <div class="card-body">
                                                            <h5 class="text-muted font-weight-normal mt-0">X(m/s)</h5>
                                                            <h3 id="joystickTwistX" class="mt-1 mb-1">-</h3>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-4">
                                                    <div class="card widget-flat">
                                                        <div class="card-body">
                                                            <h5 class="text-muted font-weight-normal mt-0">Y(m/s)</h5>
                                                            <h3 id="joystickTwistY" class="mt-1 mb-1">-</h3>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-4">
                                                    <div class="card widget-flat">
                                                        <div class="card-body">
                                                            <h5 class="text-muted font-weight-normal mt-0">Z(&deg/s)</h5>
                                                            <h3 id="joystickTwistZ"class="mt-1 mb-1">-</h3>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-6">
                                                    <div class="card widget-flat">
                                                        <div class="card-body">
                                                            <h5 class="text-muted font-weight-normal mt-0">XY</h5>
                                                            <div style="display: flex; justify-content: center;">
                                                                <div style="position: relative; width: 128px; height: 128px;">
                                                                    <div style="border: 1px solid rgba(0, 0, 0, 0); width: 128px; position: absolute; left:0px; top:0px;">
                                                                        <img src="static/images/joystick/joystick-base.png"/>
                                                                        <div id="joystickL" style="position: absolute; left:32px; top:32px;">
                                                                        <img src="static/images/joystick/joystick-red.png"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-6">
                                                    <div class="card widget-flat">
                                                        <div class="card-body">
                                                            <h5 class="text-muted font-weight-normal mt-0">Z</h5>
                                                            <div style="display: flex; justify-content: center;">
                                                                <div style="position: relative; width: 128px; height: 128px;">
                                                                    <div style="border: 1px solid rgba(0, 0, 0, 0); width: 128px; position: absolute; left:0px; top:0px;">
                                                                        <img src="static/images/joystick/joystick-base.png"/>
                                                                        <div id="joystickR" style="position: absolute; left:32px; top:32px;">
                                                                        <img src="static/images/joystick/joystick-blue.png"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- three.js   -->
                        <!-- <div class="row">

                            <div class="col-xl-6 text-center">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">AMR Model</h4>

                                        <div id="three_js" style="background-color: #FFF; height: 300px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>

                </div>

                <!-- Footer Start -->
                <footer class="footer">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12">
                                2022  yujinms
                            </div>
                        </div>
                    </div>
                </footer>
                <!-- end Footer -->

            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->


        </div>
        <!-- END wrapper -->


        <!-- App js -->
        <!-- app.min.js jquery-3.3.1   -->
        <script src="static/js/app.min.js"></script>
        <!--   jquery    -->
        <script src="static/js/jquery-3.6.0.min.js"></script>

        <!-- pallete platform state & graph start -->
        <script src="static/js/highcharts/highcharts.js"></script>
        <script src="static/js/highcharts/data.js"></script>
        <script src="static/js/highcharts/exporting.js"></script>
        <script>
            containerOdomXYGraph = Highcharts.chart('containerOdomXYGraph', {
                chart: {
                    type: 'spline',
                    // animation: Highcharts.svg, // don't animate in old IE
                    animation: false,
                    marginRight: 10,
                    events: {
                        load: function() {
                            //  XY, Z    
                        }
                    }
                },
                title: {
                    text: ''
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    title: {
                        text: 'Time'
                    }
                },
                yAxis: {
                    title: {
                        // text: 'Position'
                        text: 'Odometry(m)'
                    }
                },
                // series: [{}, {}, {}].map(function(s) {
                // series: [{name: 'x'}, {name: 'y'}, {name: 'z'}].map(function(s) {
                series: [{name: 'x(m)'}, {name: 'y(m)'}].map(function(s) {
                    s.data = [];
                    //    
                    for (var i = 0; i < 200; i++) {
                        s.data.push(0);
                    }
                    return s;
                })
            });
            
            containerOdomZGraph = Highcharts.chart('containerOdomZGraph', {
                chart: {
                    type: 'spline',
                    // animation: Highcharts.svg, // don't animate in old IE
                    animation: false,
                    marginRight: 10,
                    events: {
                        load: function() {
                            //  XY, Z    
                        }
                    }
                },
                title: {
                    text: ''
                },
                subtitle: {
                    text: ''
                },
                xAxis: {
                    title: {
                        text: 'Time'
                    }
                },
                yAxis: {
                    title: {
                        // text: 'Position'
                        text: 'Odometry()'
                    }
                },
                // series: [{}, {}, {}].map(function(s) {
                // series: [{name: 'x'}, {name: 'y'}, {name: 'z'}].map(function(s) {
                series: [{name: 'z()'}].map(function(s) {
                    s.data = [];
                    //    
                    for (var i = 0; i < 200; i++) {
                        s.data.push(0);
                    }
                    return s;
                })
            });

            getPlatformStatus();
            //  (200ms)
            setInterval(getPlatformStatus, 200);
            function getPlatformStatus() {
                $.ajax({
                    url: '/post/getPlatformStatus',
                    type: 'POST',
                    success: function (args) {
                        var data = JSON.parse(args);
                        // console.log(data);
                        if (data.error == false) {
                            containerOdomXYGraph.series[0].addPoint(parseFloat(data.message.odom.linear.x), false, true);
                            containerOdomXYGraph.series[1].addPoint(parseFloat(data.message.odom.linear.y), false, true);
                            containerOdomXYGraph.redraw();
                            containerOdomZGraph.series[0].addPoint(parseFloat(data.message.odom.twist.z), false, true);
                            containerOdomZGraph.redraw();

                            document.getElementById('simpleOdomLX').innerHTML = data.message.odom.linear.x;
                            document.getElementById('simpleOdomLY').innerHTML = data.message.odom.linear.y;
                            document.getElementById('simpleOdomTZ').innerHTML = data.message.odom.twist.z;
                            document.getElementById('simplePlatformMode').innerHTML = data.message.platform.mode;
                            document.getElementById('simplePlatformState').innerHTML = data.message.platform.state;
                            document.getElementById('simpleBatteryVoltage').innerHTML = data.message.battery.voltage;
                            document.getElementById('simpleBatteryCurrent').innerHTML = data.message.battery.current;
                            document.getElementById('simpleBatteryPercentage').innerHTML = data.message.battery.percentage;
                            document.getElementById('simplePlatformComm').innerHTML = 'on';    //   NO,   ERR
                            $('#simplePlatformComm').removeClass('text-danger');
                            $('#simplePlatformComm').addClass('text-success');
                        } else {

                            // document.getElementById('simpleOdomLX').innerHTML = data.message.odom.linear.x;
                            // document.getElementById('simpleOdomLY').innerHTML = data.message.odom.linear.y;
                            // document.getElementById('simpleOdomTZ').innerHTML = data.message.odom.twist.z;
                            // document.getElementById('simplePlatformMode').innerHTML = data.message.platform.mode;
                            // document.getElementById('simplePlatformState').innerHTML = data.message.platform.state;
                            // document.getElementById('simpleBatteryVoltage').innerHTML = data.message.battery.voltage;
                            // document.getElementById('simpleBatteryCurrent').innerHTML = data.message.battery.current;
                            // document.getElementById('simpleBatteryPercentage').innerHTML = data.message.battery.percentage;
                            document.getElementById('simplePlatformComm').innerHTML = 'err';    //   NO,   ERR
                            $('#simplePlatformComm').removeClass('text-danger');
                            $('#simplePlatformComm').addClass('text-success');
                        }
                    },
                    error: function (args) {
                        document.getElementById('simplePlatformComm').innerHTML = 'no';    //   NO,   ERR
                        $('#simplePlatformComm').removeClass('text-success');
                        $('#simplePlatformComm').addClass('text-danger');
                    }
                });
            }
        </script>
        <!-- pallete platform state & graph end -->

        <!-- three.js start -->
        <!-- three.js   -->
        <!-- <script src="static/js/three/three.js"></script>
        <script src="static/js/three/STLLoader.js"></script>
        <script src="static/js/three/OrbitControls.js"></script>
        <script src="static/js/three/WebGL.js"></script>
        <script>
            if ( WEBGL.isWebGLAvailable() === false ) {

                document.getElementById('three_js').appendChild( WEBGL.getWebGLErrorMessage() );
            }

            var container3DModel, controls;
            var camera, cameraTarget, scene, renderer;
            var mesh_front, mesh_rear, mesh_left, mesh_right;
            var mesh_baselink;
            var mesh_rplidar_fl, mesh_rplidar_br;
            var mesh_wheel_fl, mesh_wheel_fr, mesh_wheel_bl, mesh_wheel_br;

            init();
            animate();

            function init() {

                // scene
                scene = new THREE.Scene();
                scene.background = new THREE.Color( 0x87cefa );
                scene.fog = new THREE.Fog( 0x87cefa, 2, 15 );

                // render
                renderer = new THREE.WebGLRenderer( { antialias: true } );
                // renderer.setPixelRatio( window.devicePixelRatio );
                // renderer.setSize( window.innerWidth, window.innerHeight );
                // renderer.gammaInput = true;
                // renderer.gammaOutput = true;
                // renderer.shadowMap.enabled = true;
                
                // renderer = new THREE.CanvasRenderer();
                var container3DModel = document.getElementById('three_js')
                var w = container3DModel.offsetWidth;
                var h = container3DModel.offsetHeight;
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize(w, h);
                renderer.gammaInput = true;
                renderer.gammaOutput = true;
                renderer.shadowMap.enabled = true;
                container3DModel.appendChild(renderer.domElement);

                // camera
                // camera = new THREE.PerspectiveCamera( 40, window.innerWidth / window.innerHeight, 1, 100 );
                camera = new THREE.PerspectiveCamera( 40, w / h, 1, 100 );
                // default up axis change(y->z)
                camera.up = new THREE.Vector3(0, 0, 1);
                camera.up = new THREE.Vector3(0, 0, 1);
                // scene.add(camera);
                camera.position.set( -8, -8, 5 );
                camera.position.set( -0.1, -0.1, 0.2 );
                // not used(using camera control)
                // cameraTarget = new THREE.Vector3( 0, 0, 0 );
                // camera.lookAt( cameraTarget );

                // camera control
                controls = new THREE.OrbitControls( camera, renderer.domElement );
                controls.screenSpacePanning = true;
                controls.minDistance = 2.5;
                controls.maxDistance = 5;
                // controls.rotation.z = Math.PI/4;
                controls.target.set( 0.5, 0.5, 0 );
                controls.target.set( 0.5, 0.5, -0.1 );
                controls.update();

                // grid helper
                // var gridHelper = new THREE.GridHelper(10, 20);
                // gridHelper.rotation.x = Math.PI/2;
                // scene.add(gridHelper);

                // axis helper
                // var axisHelper = new THREE.AxisHelper(100);
                // scene.add(axisHelper)

                // camera helper
                // var cameraHelper = new THREE.CameraHelper(camera)
                // scene.add(cameraHelper)


                // plane
                var plane = new THREE.Mesh(
                    new THREE.PlaneBufferGeometry( 40, 40 ),
                    new THREE.MeshPhongMaterial( { color: 0x9b7653, specular: 0x101010 } )
                );
                scene.add( plane );
                plane.receiveShadow = true;

                // light
                scene.add( new THREE.HemisphereLight( 0x443333, 0x111122 ) );
                addShadowedLight( -1, -1, 1, 0xffffff, 1.35 );

                // object
                var loader = new THREE.STLLoader();

                var wheel_radius = 0.2032 / 2.0;
                var plane_offset = wheel_radius;
                var lidar_offset = 0.23663;
               
                // STL Binary files
                // var base_link = new THREE.MeshPhongMaterial( { color: 0xFFFF00, specular: 0x111111, shininess: 200 } );
                var base_link = new THREE.MeshPhongMaterial( { color: 0x001000, specular: 0x111111, shininess: 200, transparent: true, opacity: 0.4 } );

                loader.load( 'static/models/stl/baselink.stl', function ( geometry ) {

                    mesh_baselink = new THREE.Mesh( geometry, base_link );

                    mesh_baselink.position.set( 0, 0, 0+plane_offset );
                    mesh_baselink.rotation.set( 0, 0, 1.5707 );
                    mesh_baselink.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_baselink.castShadow = true;
                    mesh_baselink.receiveShadow = true;

                    scene.add( mesh_baselink );

                } );

                var rplidar_fl = new THREE.MeshPhongMaterial( { color: 0xFF0000, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/rplidar.stl', function ( geometry ) {

                    mesh_rplidar_fl = new THREE.Mesh( geometry, rplidar_fl );

                    mesh_rplidar_fl.position.set( 0.368, 0.313, lidar_offset );
                    mesh_rplidar_fl.rotation.set( 0, 0, 0 );
                    mesh_rplidar_fl.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_rplidar_fl.castShadow = true;
                    mesh_rplidar_fl.receiveShadow = true;

                    scene.add( mesh_rplidar_fl );

                } );

                var rplidar_br = new THREE.MeshPhongMaterial( { color: 0x0000FF, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/rplidar.stl', function ( geometry ) {

                    mesh_rplidar_br = new THREE.Mesh( geometry, rplidar_br );

                    mesh_rplidar_br.position.set( -0.368, -0.313, lidar_offset );
                    mesh_rplidar_br.rotation.set( 0, 0, 0 );
                    mesh_rplidar_br.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_rplidar_br.castShadow = true;
                    mesh_rplidar_br.receiveShadow = true;

                    scene.add( mesh_rplidar_br );

                } );

                var wheel_fl = new THREE.MeshPhongMaterial( { color: 0xFF0000, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/wheel_fl.stl', function ( geometry ) {

                    mesh_wheel_fl = new THREE.Mesh( geometry, wheel_fl );

                    // mesh_wheel_fl.position.set( 0.282, 0.2797, 0 );
                    //    0.105m / 2 = 0.0525
                    mesh_wheel_fl.position.set( 0.282, 0.2797-0.0525, 0+plane_offset );
                    mesh_wheel_fl.rotation.set( 0, 0, 1.5707 );
                    mesh_wheel_fl.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_wheel_fl.castShadow = true;
                    mesh_wheel_fl.receiveShadow = true;

                    scene.add( mesh_wheel_fl );

                } );

                var wheel_fr = new THREE.MeshPhongMaterial( { color: 0xFF0000, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/wheel_fr.stl', function ( geometry ) {

                    mesh_wheel_fr = new THREE.Mesh( geometry, wheel_fr );

                    // mesh_wheel_fr.position.set( 0.282, 0.2797, 0 );
                    //    0.105m / 2 = 0.0525
                    mesh_wheel_fr.position.set( 0.282, -0.2797-0.0525, 0+plane_offset );
                    mesh_wheel_fr.rotation.set( 0, 0, 1.5707 );
                    mesh_wheel_fr.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_wheel_fr.castShadow = true;
                    mesh_wheel_fr.receiveShadow = true;

                    scene.add( mesh_wheel_fr );

                } );

                var wheel_bl = new THREE.MeshPhongMaterial( { color: 0x0000FF, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/wheel_fr.stl', function ( geometry ) {

                    mesh_wheel_bl = new THREE.Mesh( geometry, wheel_bl );

                    // mesh_wheel_bl.position.set( 0.282, 0.2797, 0 );
                    //    0.105m / 2 = 0.0525
                    mesh_wheel_bl.position.set( -0.282, 0.2797-0.0525, 0+plane_offset );
                    mesh_wheel_bl.rotation.set( 0, 0, 1.5707 );
                    mesh_wheel_bl.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_wheel_bl.castShadow = true;
                    mesh_wheel_bl.receiveShadow = true;

                    scene.add( mesh_wheel_bl );

                } );

                var wheel_br = new THREE.MeshPhongMaterial( { color: 0x0000FF, specular: 0x111111, shininess: 200 } );

                loader.load( 'static/models/stl/wheel_fl.stl', function ( geometry ) {

                    mesh_wheel_br = new THREE.Mesh( geometry, wheel_br );

                    // mesh_wheel_br.position.set( 0.282, 0.2797, 0 );
                    //    0.105m / 2 = 0.0525
                    mesh_wheel_br.position.set( -0.282, -0.2797-0.0525, 0+plane_offset );
                    mesh_wheel_br.rotation.set( 0, 0, 1.5707 );
                    mesh_wheel_br.scale.set( 0.001, 0.001, 0.001 );    // stl  m   1, mm   0.001

                    mesh_wheel_br.castShadow = true;
                    mesh_wheel_br.receiveShadow = true;

                    scene.add( mesh_wheel_br );

                } );
            }

            function addShadowedLight( x, y, z, color, intensity ) {

                var directionalLight = new THREE.DirectionalLight( color, intensity );
                directionalLight.position.set( x, y, z );
                scene.add( directionalLight );

                directionalLight.castShadow = true;

                var d = 1;
                directionalLight.shadow.camera.left = - d;
                directionalLight.shadow.camera.right = d;
                directionalLight.shadow.camera.top = d;
                directionalLight.shadow.camera.bottom = - d;

                directionalLight.shadow.camera.near = 1;
                directionalLight.shadow.camera.far = 4;

                directionalLight.shadow.mapSize.width = 1024;
                directionalLight.shadow.mapSize.height = 1024;

                directionalLight.shadow.bias = - 0.002;

            }

            function onWindowResize() {

                var container3DModel = document.getElementById('three_js')
                var w = container3DModel.offsetWidth;
                var h = container3DModel.offsetHeight;
                renderer.setSize(w, h);

                // camera.aspect = window.innerWidth / window.innerHeight;
                camera.aspect = w / h;
                camera.updateProjectionMatrix();

                // renderer.setSize( window.innerWidth, window.innerHeight );

            }

            function animate() {

                requestAnimationFrame( animate );

                render();

            }

            var angle, dir;

            var red, red_flag;

            red = 0.67;
            red_flag = 0.01;

            function render() {

                var timer = Date.now() * 0.0005;

                // camera.position.x = Math.cos( timer ) * 3;
                // camera.position.z = Math.sin( timer ) * 3;

                if (!mesh_baselink) return;

                angle = mesh_baselink.rotation.x;
                // console.log(angle);
                // alertlog(angle);

                // if (angle <= 0) {
                //     dir = 1;
                // } else if (angle >= Math.PI/2) {
                //     dir = 0;
                // } else {
                // }

                // red += red_flag;

                // if (red > 1.0) {
                //     red_flag = -0.01;
                // } else if (red < 0.67) {
                //     red_flag = 0.01;
                // }

                // mesh_front.material.color.setRGB(red, 0, 0);
                // mesh_front.material.color.setRGB(red, 0.67, 0.67);
                // mesh_front.material.color.setRGB(red, 0.67, 0.67);
                // console.log(mesh_front.material.color.getHex());
                // alertlog(mesh_front.material.color.getHex());

                // if (dir == 1) {
                //     mesh_front.rotation.x += 0.01;
                //     mesh_rear.rotation.x -= 0.01;
                //     mesh_left.rotation.y += 0.01;
                //     mesh_right.rotation.y -= 0.01;
                // } else {
                //     mesh_front.rotation.x -= 0.01;
                //     mesh_rear.rotation.x += 0.01;
                //     mesh_left.rotation.y -= 0.01;
                //     mesh_right.rotation.y += 0.01;
                // }
                mesh_wheel_fl.rotation.y += 0.05;
                mesh_wheel_fr.rotation.y += 0.05;
                mesh_wheel_bl.rotation.y += 0.05;
                mesh_wheel_br.rotation.y += 0.05;

                renderer.render(scene, camera);
            }
        </script> -->
        <!-- three.js end -->

        <!-- platform control start -->
        <script>
            init_control();

            function init_control() {
                // three.js   
                // window.addEventListener('resize', onWindowResize, false);

                document.getElementById('simpleJogXVelInput').value = 0.2;
                document.getElementById('simpleJogYVelInput').value = 0.2;
                document.getElementById('simpleJogZVelInput').value = 10.0;

                document.getElementById('simpleJogXAccInput').value = 0.1;
                document.getElementById('simpleJogYAccInput').value = 0.1;
                document.getElementById('simpleJogZAccInput').value = 5.0;

                document.getElementById('simpleJogXMaxInput').value = 0.2;
                document.getElementById('simpleJogYMaxInput').value = 0.2;
                document.getElementById('simpleJogZMaxInput').value = 10.0;

                document.getElementById('simplePositionXVelInput').value = 0.2;
                document.getElementById('simplePositionYVelInput').value = 0.2;
                document.getElementById('simplePositionZVelInput').value = 10.0;

                document.getElementById('simplePositionXAccInput').value = 0.1;
                document.getElementById('simplePositionYAccInput').value = 0.1;
                document.getElementById('simplePositionZAccInput').value = 5.0;

                document.getElementById('simplePositionXMaxInput').value = 0.2;
                document.getElementById('simplePositionYMaxInput').value = 0.2;
                document.getElementById('simplePositionZMaxInput').value = 10.0;

                document.getElementById('simplePositionLXInput').value = 0;
                document.getElementById('simplePositionLYInput').value = 0;
                document.getElementById('simplePositionTZInput').value = 0;

                document.getElementById('simpleJoyXAccInput').value = 0.1;
                document.getElementById('simpleJoyYAccInput').value = 0.1;
                document.getElementById('simpleJoyZAccInput').value = 5.0;

                document.getElementById('simpleJoyXMaxInput').value = 0.2;
                document.getElementById('simpleJoyYMaxInput').value = 0.2;
                document.getElementById('simpleJoyZMaxInput').value = 10.0;

                document.getElementById('enableJoystick').checked = false;
                document.getElementById('simpleJoyMsRateInput').value = 300;

                // $('#simpleJogFrontButton').mousedown(
                $('#simpleJogFrontButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFrontButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFrontButton mousedown');
                                    // alert('simpleJogFrontButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFrontButton mousedown fail');
                                // alert('simpleJogFrontButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogFrontButton').mouseup(
                $('#simpleJogFrontButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFrontButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFrontButton mouseup');
                                    // alert('simpleJogFrontButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFrontButton mouseup fail');
                                // alert('simpleJogFrontButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBackButton').mousedown(
                $('#simpleJogBackButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBackButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBackButton mousedown');
                                    // alert('simpleJogBackButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBackButton mousedown fail');
                                // alert('simpleJogBackButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBackButton').mouseup(
                $('#simpleJogBackButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBackButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBackButton mouseup');
                                    // alert('simpleJogBackButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBackButton mouseup fail');
                                // alert('simpleJogBackButton mouseup fail');
                            }
                        });
                    }
                );


                // $('#simpleJogLeftButton').mousedown(
                $('#simpleJogLeftButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogLeftButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogLeftButton mousedown');
                                    // alert('simpleJogLeftButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogLeftButton mousedown fail');
                                // alert('simpleJogLeftButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogLeftButton').mouseup(
                $('#simpleJogLeftButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogLeftButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogLeftButton mouseup');
                                    // alert('simpleJogLeftButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogLeftButton mouseup fail');
                                // alert('simpleJogLeftButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogRightButton').mousedown(
                $('#simpleJogRightButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogRightButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogRightButton mousedown');
                                    // alert('simpleJogRightButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogRightButton mousedown fail');
                                // alert('simpleJogRightButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogRightButton').mouseup(
                $('#simpleJogRightButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogRightButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogRightButton mouseup');
                                    // alert('simpleJogRightButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogRightButton mouseup fail');
                                // alert('simpleJogRightButton mouseup fail');
                            }
                        });
                    }
                );


                // $('#simpleJogCwButton').mousedown(
                $('#simpleJogCwButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogCwButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogCwButton mousedown');
                                    // alert('simpleJogCwButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogCwButton mousedown fail');
                                // alert('simpleJogCwButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogCwButton').mouseup(
                $('#simpleJogCwButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogCwButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogCwButton mouseup');
                                    // alert('simpleJogCwButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogCwButton mouseup fail');
                                // alert('simpleJogCwButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogCcwButton').mousedown(
                $('#simpleJogCcwButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogCcwButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogCcwButton mousedown');
                                    // alert('simpleJogCcwButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogCcwButton mousedown fail');
                                // alert('simpleJogCcwButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogCcwButton').mouseup(
                $('#simpleJogCcwButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogCcwButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogCcwButton mouseup');
                                    // alert('simpleJogCcwButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogCcwButton mouseup fail');
                                // alert('simpleJogCcwButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogFLButton').mousedown(
                $('#simpleJogFLButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFLButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFLButton mousedown');
                                    // alert('simpleJogFLButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFLButton mousedown fail');
                                // alert('simpleJogFLButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogFLButton').mouseup(
                $('#simpleJogFLButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFLButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFLButton mouseup');
                                    // alert('simpleJogFLButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFLButton mouseup fail');
                                // alert('simpleJogFLButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogFRButton').mousedown(
                $('#simpleJogFRButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFRButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFRButton mousedown');
                                    // alert('simpleJogFRButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFRButton mousedown fail');
                                // alert('simpleJogFRButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogFRButton').mouseup(
                $('#simpleJogFRButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogFRButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogFRButton mouseup');
                                    // alert('simpleJogFRButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogFRButton mouseup fail');
                                // alert('simpleJogFRButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBLButton').mousedown(
                $('#simpleJogBLButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBLButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBLButton mousedown');
                                    // alert('simpleJogBLButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBLButton mousedown fail');
                                // alert('simpleJogBLButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBLButton').mouseup(
                $('#simpleJogBLButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBLButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBLButton mouseup');
                                    // alert('simpleJogBLButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBLButton mouseup fail');
                                // alert('simpleJogBLButton mouseup fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBRButton').mousedown(
                $('#simpleJogBRButton').on('mousedown touchstart', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBRButtonDown',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBRButton mousedown');
                                    // alert('simpleJogBRButton mousedown');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBRButton mousedown fail');
                                // alert('simpleJogBRButton mousedown fail');
                            }
                        });
                    }
                );

                // $('#simpleJogBRButton').mouseup(
                $('#simpleJogBRButton').on('mouseup touchend', 
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogBRButtonUp',
                            type: 'POST',
                            data: $('#simpleJogParamForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogBRButton mouseup');
                                    // alert('simpleJogBRButton mouseup');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogBRButton mouseup fail');
                                // alert('simpleJogBRButton mouseup fail');
                            }
                        });
                    }
                );

                $('#simpleJogStopButton').click(
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simpleJogStopButton',
                            type: 'POST',
                            data: $('#simpleJogForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJogStopButton success');
                                    // alert('simpleJogStopButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJogStopButton fail');
                                // alert('simpleJogStopButton fail');
                            }
                        });
                    }
                );
                
                $('#simplePositionControlButton').click(
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simplePositionControlButton',
                            type: 'POST',
                            data: $('#simplePositionParamForm, #simplePositionControlForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simplePositionControlButton success');
                                    // alert('simplePositionControlButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simplePositionControlButton fail');
                                // alert('simplePositionControlButton fail');
                            }
                        });
                    }
                );

                $('#simplePositionStopButton').click(
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simplePositionStopButton',
                            type: 'POST',
                            data: $('#simplePositionParamForm, #simplePositionControlForm').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simplePositionStopButton success');
                                    // alert('simplePositionStopButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simplePositionStopButton fail');
                                // alert('simplePositionStopButton fail');
                            }
                        });
                    }
                );

                $('#filenameButton').click(
                    function () {
                        var input = $(document.createElement("input"));
                        input.attr("type", "file");
                        input.trigger("click");
                        return false;
                    }
                );
                
                $('#simplePlatformInitButton').click(
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simplePlatformInitButton',
                            type: 'POST',
                            data: $('').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simplePlatformInitButton success');
                                    // alert('simplePlatformInitButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simplePlatformInitButton fail');
                                // alert('simplePlatformInitButton fail');
                            }
                        });
                    }
                );
                
                $('#simplePlatformClearErrorButton').click(
                    function () {
                        document.getElementById('enableJoystick').checked = false;
                        $.ajax({
                            url: '/post/simplePlatformClearErrorButton',
                            type: 'POST',
                            data: $('').serialize(),
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simplePlatformClearErrorButton success');
                                    // alert('simplePlatformClearErrorButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simplePlatformClearErrorButton fail');
                                // alert('simplePlatformClearErrorButton fail');
                            }
                        });
                    }
                );
            }

            /*
            getWhisperOut();
            //  (200ms)
            setInterval(getWhisperOut, 200);
            function getWhisperOut() {
                $.ajax({
                    url: '/post/getWhisperOut',
                    type: 'POST',
                    success: function (args) {
                        var data = JSON.parse(args);
                        // console.log(data);
                        if (data.error == false) {
                            document.getElementById('simpleWhisper24Subject').innerHTML = data.message.val24.subject;
                            document.getElementById('simpleWhisper24Value').innerHTML = data.message.val24.value;
                            document.getElementById('simpleWhisper25Subject').innerHTML = data.message.val25.subject;
                            document.getElementById('simpleWhisper25Value').innerHTML = data.message.val25.value;
                            document.getElementById('simpleWhisper26Subject').innerHTML = data.message.val26.subject;
                            document.getElementById('simpleWhisper26Value').innerHTML = data.message.val26.value;
                            document.getElementById('simpleWhisper27Subject').innerHTML = data.message.val27.subject;
                            document.getElementById('simpleWhisper27Value').innerHTML = data.message.val27.value;
                            document.getElementById('simpleWhisper28Subject').innerHTML = data.message.val28.subject;
                            document.getElementById('simpleWhisper28Value').innerHTML = data.message.val28.value;
                            document.getElementById('simpleWhisper29Subject').innerHTML = data.message.val29.subject;
                            document.getElementById('simpleWhisper29Value').innerHTML = data.message.val29.value;
                            $('#simpleWhisper24').removeClass('text-danger');
                            $('#simpleWhisper24').addClass('text-success');
                            $('#simpleWhisper25').removeClass('text-danger');
                            $('#simpleWhisper25').addClass('text-success');
                            $('#simpleWhisper26').removeClass('text-danger');
                            $('#simpleWhisper26').addClass('text-success');
                            $('#simpleWhisper27').removeClass('text-danger');
                            $('#simpleWhisper27').addClass('text-success');
                            $('#simpleWhisper28').removeClass('text-danger');
                            $('#simpleWhisper28').addClass('text-success');
                            $('#simpleWhisper29').removeClass('text-danger');
                            $('#simpleWhisper29').addClass('text-success');
                        } else {
                            // document.getElementById('simpleWhisper24Subject').innerHTML = data.message.val24.subject;
                            // document.getElementById('simpleWhisper24Value').innerHTML = data.message.val24.value;
                            // document.getElementById('simpleWhisper25Subject').innerHTML = data.message.val25.subject;
                            // document.getElementById('simpleWhisper25Value').innerHTML = data.message.val25.value;
                            // document.getElementById('simpleWhisper26Subject').innerHTML = data.message.val26.subject;
                            // document.getElementById('simpleWhisper26Value').innerHTML = data.message.val26.value;
                            // document.getElementById('simpleWhisper27Subject').innerHTML = data.message.val27.subject;
                            // document.getElementById('simpleWhisper27Value').innerHTML = data.message.val27.value;
                            // document.getElementById('simpleWhisper28Subject').innerHTML = data.message.val28.subject;
                            // document.getElementById('simpleWhisper28Value').innerHTML = data.message.val28.value;
                            // document.getElementById('simpleWhisper29Subject').innerHTML = data.message.val29.subject;
                            // document.getElementById('simpleWhisper29Value').innerHTML = data.message.val29.value;
                            $('#simpleWhisper24').removeClass('text-danger');
                            $('#simpleWhisper24').addClass('text-success');
                            $('#simpleWhisper25').removeClass('text-danger');
                            $('#simpleWhisper25').addClass('text-success');
                            $('#simpleWhisper26').removeClass('text-danger');
                            $('#simpleWhisper26').addClass('text-success');
                            $('#simpleWhisper27').removeClass('text-danger');
                            $('#simpleWhisper27').addClass('text-success');
                            $('#simpleWhisper28').removeClass('text-danger');
                            $('#simpleWhisper28').addClass('text-success');
                            $('#simpleWhisper29').removeClass('text-danger');
                            $('#simpleWhisper29').addClass('text-success');
                        }
                    },
                    error: function (args) {
                        // document.getElementById('simpleWhisper24Subject').innerHTML = data.message.val24.subject;
                        // document.getElementById('simpleWhisper24Value').innerHTML = data.message.val24.value;
                        // document.getElementById('simpleWhisper25Subject').innerHTML = data.message.val25.subject;
                        // document.getElementById('simpleWhisper25Value').innerHTML = data.message.val25.value;
                        // document.getElementById('simpleWhisper26Subject').innerHTML = data.message.val26.subject;
                        // document.getElementById('simpleWhisper26Value').innerHTML = data.message.val26.value;
                        // document.getElementById('simpleWhisper27Subject').innerHTML = data.message.val27.subject;
                        // document.getElementById('simpleWhisper27Value').innerHTML = data.message.val27.value;
                        // document.getElementById('simpleWhisper28Subject').innerHTML = data.message.val28.subject;
                        // document.getElementById('simpleWhisper28Value').innerHTML = data.message.val28.value;
                        // document.getElementById('simpleWhisper29Subject').innerHTML = data.message.val29.subject;
                        // document.getElementById('simpleWhisper29Value').innerHTML = data.message.val29.value;
                        $('#simpleWhisper24').removeClass('text-success');
                        $('#simpleWhisper24').addClass('text-danger');
                        $('#simpleWhisper25').removeClass('text-success');
                        $('#simpleWhisper25').addClass('text-danger');
                        $('#simpleWhisper26').removeClass('text-success');
                        $('#simpleWhisper26').addClass('text-danger');
                        $('#simpleWhisper27').removeClass('text-success');
                        $('#simpleWhisper27').addClass('text-danger');
                        $('#simpleWhisper28').removeClass('text-success');
                        $('#simpleWhisper28').addClass('text-danger');
                        $('#simpleWhisper29').removeClass('text-success');
                        $('#simpleWhisper29').addClass('text-danger');
                    }
                });
            }
            */
        </script>
        <!-- platform control end -->

        <!-- joystick start -->
        <script>
            class JoystickController {
                // joystickID: ID of HTML element (representing joystick) that will be dragged
                // maxDistance: maximum amount joystick can move in any direction
                // deadzone: joystick must move at least this amount from origin to register value change
                constructor(joystickID, maxDistance, deadzone) {
                    this.id = joystickID;
                    let joystick = document.getElementById(joystickID);
            
                    // location from which drag begins, used to calculate offsets
                    this.dragStart = null;
            
                    // track touch identifier in case multiple joysticks present
                    this.touchId = null;
                    
                    this.active = false;
                    this.value = {
                        x: 0,
                        y: 0
                    }; 
            
                    let self = this;
            
                    function handleDown(event) {
                        self.active = true;
            
                        // all drag movements are instantaneous
                        joystick.style.transition = '0s';
            
                        // touch event fired before mouse event; prevent redundant mouse event from firing
                        event.preventDefault();
            
                        if (event.changedTouches) {
                            self.dragStart = {
                                x: event.changedTouches[0].clientX,
                                y: event.changedTouches[0].clientY
                            };
                        } else {
                            self.dragStart = {
                                x: event.clientX,
                                y: event.clientY
                            };
                        }
            
                        // if this is a touch event, keep track of which one
                        if (event.changedTouches) {
                            self.touchId = event.changedTouches[0].identifier;
                        }
                    }
                    
                    function handleMove(event) {
                        if (!self.active) {
                            return;
                        }
            
                        // if this is a touch event, make sure it is the right one
                        // also handle multiple simultaneous touchmove events
                        let touchmoveId = null;
                        if (event.changedTouches) {
                            for (let i = 0; i < event.changedTouches.length; i++) {
                                if (self.touchId == event.changedTouches[i].identifier) {
                                    touchmoveId = i;
                                    event.clientX = event.changedTouches[i].clientX;
                                    event.clientY = event.changedTouches[i].clientY;
                                }
                            }
            
                            if (touchmoveId == null) {
                                return;
                            }
                        }
            
                        const xDiff = event.clientX - self.dragStart.x;
                        const yDiff = event.clientY - self.dragStart.y;
                        const angle = Math.atan2(yDiff, xDiff);
                        const distance = Math.min(maxDistance, Math.hypot(xDiff, yDiff));
                        const xPosition = distance * Math.cos(angle);
                        const yPosition = distance * Math.sin(angle);
            
                        // move stick image to new position
                        joystick.style.transform = `translate3d(${xPosition}px, ${yPosition}px, 0px)`;
            
                        // deadzone adjustment
                        const distance2 = (distance < deadzone) ? 0 : maxDistance / (maxDistance - deadzone) * (distance - deadzone);
                        const xPosition2 = distance2 * Math.cos(angle);
                        const yPosition2 = distance2 * Math.sin(angle);
                        const xPercent = parseFloat((xPosition2 / maxDistance).toFixed(4));
                        const yPercent = parseFloat((yPosition2 / maxDistance).toFixed(4));
                        
                        self.value = {
                            x: xPercent,
                            y: yPercent
                        };
                    }
            
                    function handleUp(event) {
                        if (!self.active) {
                            return;
                        }
            
                        // if this is a touch event, make sure it is the right one
                        if (event.changedTouches && self.touchId != event.changedTouches[0].identifier) {
                            return;
                        }
            
                        // transition the joystick position back to center
                        joystick.style.transition = '.2s';
                        joystick.style.transform = `translate3d(0px, 0px, 0px)`;
            
                        // reset everything
                        self.value = {
                            x: 0,
                            y: 0
                        };
                        self.touchId = null;
                        self.active = false;
                    }
            
                    joystick.addEventListener('mousedown', handleDown);
                    joystick.addEventListener('touchstart', handleDown);
                    document.addEventListener('mousemove', handleMove, {passive: false});
                    document.addEventListener('touchmove', handleMove, {passive: false});
                    document.addEventListener('mouseup', handleUp);
                    document.addEventListener('touchend', handleUp);
                }
            }
            
            let joystickL = new JoystickController("joystickL", 64, 8);
            let joystickR = new JoystickController("joystickR", 64, 8);
            
            let fsmEnable = 0;
            let ts_pre = ts_now = Date.now();
            
            function update() {
                if (document.getElementById('enableJoystick').checked) {
                    let twist = {
                        x: 0.0,
                        y: 0.0,
                        z: 0.0
                    };
                    twist.x = joystickL.value.y * -1.0 * document.getElementById("simpleJoyXMaxInput").value;
                    twist.y = joystickL.value.x * -1.0 * document.getElementById("simpleJoyYMaxInput").value;
                    twist.z = joystickR.value.x * -1.0 * document.getElementById("simpleJoyZMaxInput").value;

                    document.getElementById("joystickTwistX").innerText = twist.x.toFixed(2);
                    document.getElementById("joystickTwistY").innerText = twist.y.toFixed(2);
                    document.getElementById("joystickTwistZ").innerText = twist.z.toFixed(2);

                    fsmEnable = 0;

                    rateMs = document.getElementById("simpleJoyMsRateInput").value;
                    ts_now = Date.now();
                    if ((ts_now - ts_pre) > rateMs) {
                        ts_pre = ts_now;

                        serialize = $('#simpleJoyParamForm, #simpleJoySettingForm').serialize();
                        serialize_twist = joystickTwistX.id+"="+twist.x.toFixed(6)+"&"+joystickTwistY.id+"="+twist.y.toFixed(6)+"&"+joystickTwistZ.id+"="+twist.z.toFixed(6)
                        serialize = serialize + "&" + serialize_twist;
                        // console.log(serialize)

                        $.ajax({
                            url: '/post/simpleJoyControlButton',
                            type: 'POST',
                            data: serialize,
                            success: function (args) {
                                var data = JSON.parse(args);
                                if (data.error == true) {
                                    console.log(data.message);
                                    // alert(data.message);
                                } else {
                                    // console.log('simpleJoyControlButton success');
                                    // alert('simpleJoyControlButton success');
                                }
                            },
                            error: function (args) {
                                console.log('simpleJoyControlButton fail');
                                // alert('simpleJoyControlButton fail');
                            }
                        });
                    }
                } else {
                    switch(fsmEnable) {
                        case 0:
                            document.getElementById("joystickTwistX").innerText = 0.0;
                            document.getElementById("joystickTwistY").innerText = 0.0;
                            document.getElementById("joystickTwistZ").innerText = 0.0;
                            
                            fsmEnable = 1;
                            break;
                        case 1:
                            break;
                        default:
                            break;
                    }
                }
            }
            
            function loop() {
                requestAnimationFrame(loop);
                update();
            }
            
            loop();
            
        </script>
        <!-- joystick end -->

    </body>
</html>
